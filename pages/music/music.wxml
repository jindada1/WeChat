<!--pages/music/music.wxml-->
<view class="nav-area" style="height:{{navHeight}}px; margin-top:{{navTop}}px;">
	<view style="text-align: center; width: 100%">
		{{current.name}}
	</view>
</view>
<swiper style="height: {{cmtHeight}}px">
	<swiper-item>

		<view class="controls">
			<view style="height:20px; padding: 0 10px">
				<van-slider value="{{progress}}" bar-height="2px" active-color="#ee0a24" use-button-slot>
					<view class="slider-numb" slot="button"> 	</view>
				</van-slider>
			</view>
			<view class="buttons">
				<view class="col">
					<van-icon name="../../../../icons/prev.svg" bindtap="control" size="36" data-cmd="{{'last'}}" />
				</view>
				<view class="col">
					<van-icon wx:if="{{paused}}" name="../../../../icons/play.svg" bindtap="control" size="40" data-cmd="{{'toggle'}}" />
					<van-icon wx:else name="../../../../icons/pause.svg" bindtap="control" size="40" data-cmd="{{'toggle'}}" />
				</view>
				<view class="col">
					<van-icon name="../../../../icons/next.svg" bindtap="control" size="36" data-cmd="{{'next'}}" />
				</view>
				<view class="col">
					<van-icon name="../../../../icons/list.svg" bindtap="control" size="24" data-cmd="{{'showlist'}}" />
				</view>
			</view>
		</view>
	</swiper-item>
	<swiper-item>
		<view wx:if="{{!comments.length}}" class="contain">
			<view>正在获取评论</view>
		</view>
		<scroll-view style="height: 100%" scroll-y>
			<van-row wx:for="{{comments}}" wx:for-item="comment" wx:key="avatar" data-item="{{comment}}">
				<van-col span="4" style="text-align: center;">
					<van-image round width="32px" height="32px" src="{{comment.avatar}}" />
				</van-col>
				<van-col span="20">
					<view class="user-name">{{comment.username}}</view>
					<view class="comment">{{comment.content}}</view>
					<view class="info">{{comment.time}}
						<view style="float:right; margin-right:10px;color:black">{{comment.stars}}
							<van-icon name="../../../../icons/thumb.svg" size="14px" />
						</view>
					</view>
				</van-col>
				<van-divider hairline />
			</van-row>
		</scroll-view>
	</swiper-item>
</swiper>
<van-popup show="{{ playlist_show }}" position="bottom" custom-style="height: 50%" bind:close="control" data-cmd="{{'closelist'}}">
	<van-cell wx:for="{{ playlist }}" wx:key="idforres" wx:for-item="song" title="{{ song.name }}" label="{{song.artist}}" clickable="true" bindtap="play" data-song="{{song}}">
		<van-icon wx:if="{{current.idforres === song.idforres}}" color="red" slot="right-icon" size="24px" name="service" />
		<van-icon wx:else slot="right-icon" name="delete" size="24px" catchtap="control" data-cmd="{{'remove'}}" data-params="{{index}}" />
	</van-cell>
</van-popup>